<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RedZone UI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        :root {
            --color-primary: rgb(255, 0, 0);
            --color-kills: rgb(0, 255, 0);
            --color-deaths: rgb(255, 0, 0);
            --color-streak: rgb(255, 215, 0);
        }

        #redzone-ui {
            position: fixed;
            top: 35%;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            border-left: 4px solid var(--color-primary);
            padding: 15px;
            border-radius: 8px;
            min-width: 180px;
            display: none;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
        }

        #redzone-ui.visible {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .ui-header {
            color: var(--color-primary);
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 10px var(--color-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .ui-header svg {
            width: 20px;
            height: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 8px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-box.streak-box {
            grid-column: 1 / -1;
        }

        .stat-icon {
            flex-shrink: 0;
            width: 28px;
            height: 28px;
        }

        .kills svg .icon-primary {
            color: var(--color-kills);
        }

        .deaths svg .icon-primary {
            color: var(--color-deaths);
        }

        .stat-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .stat-label {
            color: #999;
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .stat-value {
            color: #ffffff;
            font-size: 20px;
            font-weight: bold;
            line-height: 1;
        }

        .kills .stat-value {
            color: var(--color-kills);
            text-shadow: 0 0 5px var(--color-kills);
        }

        .deaths .stat-value {
            color: var(--color-deaths);
            text-shadow: 0 0 5px var(--color-deaths);
        }

        .streak-value {
            color: var(--color-streak);
            text-shadow: 0 0 5px var(--color-streak);
        }

        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #ff0000, transparent);
            margin: 15px 0;
        }

        /* Kill Feed Styles */
        #kill-feed {
            position: fixed;
            top: 20px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
        }

        #kill-feed.top-left {
            left: 20px;
        }

        #kill-feed.top-center {
            left: 50%;
            transform: translateX(-50%);
        }

        #kill-feed.top-right {
            right: 20px;
        }

        .kill-entry {
            background: rgba(0, 0, 0, 0.85);
            padding: 12px 20px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 300px;
            border-left: 3px solid var(--color-primary);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            animation: slideInKill 0.3s ease-out, fadeOut 0.5s ease-in 4.5s forwards;
        }

        @keyframes slideInKill {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        .kill-icon {
            flex-shrink: 0;
        }

        .kill-icon svg {
            width: 24px;
            height: 24px;
        }

        .killer-name {
            color: var(--color-kills);
            font-weight: bold;
            font-size: 14px;
        }

        .kill-text {
            color: #ffffff;
            font-size: 14px;
        }

        .victim-name {
            color: var(--color-deaths);
            font-weight: bold;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="redzone-ui">
        <div class="ui-header">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="#ff0000" stroke="#ff0000" stroke-width="2"/>
            </svg>
            REDZONE
        </div>
        <div class="divider"></div>
        
        <div class="stats-grid">
            <div class="stat-box kills">
                <svg class="stat-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="10" width="10" height="4" rx="1" fill="currentColor" class="icon-primary"/>
                    <rect x="13" y="9" width="8" height="6" rx="1" fill="currentColor" class="icon-primary"/>
                    <circle cx="21.5" cy="12" r="1.5" fill="currentColor" class="icon-primary"/>
                    <rect x="11" y="11.5" width="2" height="1" fill="currentColor" class="icon-primary"/>
                    <path d="M5 10 L5 8 L7 8 L7 10" fill="currentColor" class="icon-primary"/>
                    <rect x="15" y="11" width="4" height="2" fill="#000"/>
                </svg>
                <div class="stat-info">
                    <div class="stat-label">KILLS</div>
                    <div class="stat-value" id="kills">0</div>
                </div>
            </div>
            
            <div class="stat-box deaths">
                <svg class="stat-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 3C8.5 3 6 5.5 6 9C6 10.5 6.5 12 7 13L7 16C7 16.5 7.5 17 8 17L9 17L9 19C9 19.5 9.5 20 10 20L14 20C14.5 20 15 19.5 15 19L15 17L16 17C16.5 17 17 16.5 17 16L17 13C17.5 12 18 10.5 18 9C18 5.5 15.5 3 12 3Z" fill="currentColor" class="icon-primary"/>
                    <ellipse cx="9.5" cy="9" rx="1.8" ry="2.2" fill="#000"/>
                    <ellipse cx="14.5" cy="9" rx="1.8" ry="2.2" fill="#000"/>
                    <path d="M12 11 L11 13 L12 13.5 L13 13 Z" fill="#000"/>
                    <rect x="9" y="14" width="1.5" height="2" rx="0.3" fill="#000"/>
                    <rect x="11" y="14" width="1.5" height="2" rx="0.3" fill="#000"/>
                    <rect x="13" y="14" width="1.5" height="2" rx="0.3" fill="#000"/>
                </svg>
                <div class="stat-info">
                    <div class="stat-label">DEATHS</div>
                    <div class="stat-value" id="deaths">0</div>
                </div>
            </div>
        </div>
        
        <div class="divider"></div>
        
        <div class="stat-box streak-box">
            <svg class="stat-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.5 0.5L16 8L23.5 9L18 14L19.5 21.5L13.5 17.5L7.5 21.5L9 14L3.5 9L11 8L13.5 0.5Z" fill="#ffd700" stroke="#ffd700" stroke-width="1"/>
                <path d="M8 12L10 14L16 8" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div class="stat-info">
                <div class="stat-label">STREAK</div>
                <div class="stat-value streak-value" id="streak">0</div>
            </div>
        </div>
    </div>

    <div id="kill-feed" class="top-right"></div>

    <script>
        let killCounter = 0;
        const maxKills = 5;
        const killDisplayTime = 5000;

        window.addEventListener('message', function(event) {
            const data = event.data;
            const ui = document.getElementById('redzone-ui');
            const killFeed = document.getElementById('kill-feed');
            
            if (data.type === 'show') {
                ui.classList.add('visible');
            } else if (data.type === 'hide') {
                ui.classList.remove('visible');
            } else if (data.type === 'updateStats') {
                document.getElementById('kills').textContent = data.kills;
                document.getElementById('deaths').textContent = data.deaths;
                document.getElementById('streak').textContent = data.streak;
            } else if (data.type === 'addKill') {
                addKillToFeed(data.killer, data.victim);
            } else if (data.type === 'setKillFeedPosition') {
                killFeed.className = data.position;
            } else if (data.type === 'setColors') {
                document.documentElement.style.setProperty('--color-primary', data.colors.primary);
                document.documentElement.style.setProperty('--color-kills', data.colors.kills);
                document.documentElement.style.setProperty('--color-deaths', data.colors.deaths);
                document.documentElement.style.setProperty('--color-streak', data.colors.streak);
                
                updateSVGColors(data.colors);
            }
        });

        function updateSVGColors(colors) {
            const killSVG = document.querySelector('.kills svg path, .kills svg rect, .kills svg circle');
            if (killSVG) {
                document.querySelectorAll('.kills svg path:not([fill="#000"]), .kills svg rect:not([fill="#000"]), .kills svg circle:not([fill="#000"])').forEach(el => {
                    el.setAttribute('fill', colors.kills);
                });
            }
            
            document.querySelectorAll('.deaths svg path:not([fill="#000"]), .deaths svg rect:not([fill="#000"]), .deaths svg ellipse:not([fill="#000"])').forEach(el => {
                el.setAttribute('fill', colors.deaths);
            });
            
            document.querySelectorAll('.ui-header svg path').forEach(el => {
                el.setAttribute('fill', colors.primary);
                el.setAttribute('stroke', colors.primary);
            });
            
            document.querySelectorAll('.streak-box svg path[fill="#ffd700"]').forEach(el => {
                el.setAttribute('fill', colors.streak);
                el.setAttribute('stroke', colors.streak);
            });
        }

        function addKillToFeed(killerName, victimName) {
            const killFeed = document.getElementById('kill-feed');
            
            const kills = killFeed.getElementsByClassName('kill-entry');
            if (kills.length >= maxKills) {
                killFeed.removeChild(kills[0]);
            }
            
            const killEntry = document.createElement('div');
            killEntry.className = 'kill-entry';
            killEntry.innerHTML = `
                <div class="kill-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2.25C10.0716 2.25 8.18657 2.82183 6.58319 3.89317C4.97982 4.96451 3.73013 6.48726 2.99218 8.26884C2.25422 10.0504 2.06114 12.0108 2.43735 13.9021C2.81355 15.7934 3.74215 17.5307 5.10571 18.8943C6.46928 20.2579 8.20656 21.1865 10.0979 21.5627C11.9892 21.9389 13.9496 21.7458 15.7312 21.0078C17.5127 20.2699 19.0355 19.0202 20.1068 17.4168C21.1782 15.8134 21.75 13.9284 21.75 12C21.75 9.41414 20.7228 6.93419 18.8943 5.10571C17.0658 3.27723 14.5859 2.25 12 2.25ZM12 20.25C10.3683 20.25 8.77326 19.7661 7.41655 18.8596C6.05984 17.9531 5.00242 16.6646 4.378 15.1571C3.75358 13.6496 3.5902 11.9908 3.90853 10.3905C4.22685 8.79016 5.01259 7.32015 6.16637 6.16637C7.32016 5.01259 8.79017 4.22685 10.3905 3.90852C11.9909 3.59019 13.6497 3.75357 15.1571 4.37799C16.6646 5.00242 17.9531 6.05984 18.8596 7.41655C19.7661 8.77325 20.25 10.3683 20.25 12C20.25 14.1875 19.3808 16.2851 17.8336 17.8336C16.2851 19.3808 14.1875 20.25 12 20.25Z" fill="var(--color-primary)"/>
                        <path d="M15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 12L15.5303 14.4697C15.8232 14.7626 15.8232 15.2374 15.5303 15.5303C15.2374 15.8232 14.7626 15.8232 14.4697 15.5303L12 13.0607L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9393 12L8.46967 9.53033C8.17678 9.23744 8.17678 8.76256 8.46967 8.46967C8.76256 8.17678 9.23744 8.17678 9.53033 8.46967L12 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967Z" fill="var(--color-primary)"/>
                    </svg>
                </div>
                <span class="killer-name">${killerName}</span>
                <span class="kill-text">eliminated</span>
                <span class="victim-name">${victimName}</span>
            `;
            
            killFeed.appendChild(killEntry);
            
            setTimeout(() => {
                if (killEntry.parentNode) {
                    killEntry.parentNode.removeChild(killEntry);
                }
            }, killDisplayTime);
        }
    </script>
</body>
</html>
